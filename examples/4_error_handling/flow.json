{
    "settings": {
        "start_state": "login"
    },
    "states": {
        "login": {
            "response_template": "Please say your 4-digit PIN to login.",
            "slots_required": [
                "pin"
            ],
            "slot_config": {
                "pin": {
                    "validator": "is_4_digits"
                }
            },
            "transitions": [
                {
                    "intent": "provide_pin",
                    "target": "verify_pin",
                    "condition": "all_slots_filled"
                }
            ],
            "fallback_behavior": "ask_reclassify"
        },
        "verify_pin": {
            "type": "action",
            "action_name": "verify_pin_api",
            "transitions": {
                "success": "dashboard",
                "invalid_pin": "login_error",
                "api_down": "system_error"
            }
        },
        "login_error": {
            "response_template": "That PIN is invalid. Please try again.",
            "transitions": [
                {
                    "intent": "provide_pin",
                    "target": "verify_pin",
                    "context_updates": {
                        "clear_slots": [
                            "pin"
                        ]
                    }
                },
                {
                    "intent": "cancel",
                    "target": "quit"
                }
            ]
        },
        "system_error": {
            "response_template": "Our system is currently down. Please call support.",
            "transitions": []
        },
        "dashboard": {
            "response_template": "Welcome to your dashboard!"
        },
        "quit": {
            "response_template": "Goodbye!"
        }
    }
}